import{r as u,c,k as f,o as l,a as o,l as p,h as r,m as _,i as y,w as k,t as h,e as g,u as v}from"./index-CcBn3r5r.js";import{_ as S}from"./Tooltip.vue_vue_type_script_setup_true_lang-BjDBb6kc.js";const x={key:0},w={__name:"StudentList",props:{facultyid:String},setup(m){const n=m,a=u(),t=u(),e=c({url:"attend.api.fetchers.get_faculty_student_list"});e.submit({faculty:n.facultyid}),f(e,()=>{e.data&&(a.value=Object.keys(JSON.parse(JSON.stringify(e.data))[0]),console.log("keysList:",a.value))}),f(a,()=>{t.value=JSON.parse(JSON.stringify(a.value)).map(i=>s[i]),console.log("cols",t.value)});const s={full_name:{label:"Full Name",key:"full_name",width:"300px"},user:{label:"Email",key:"user",width:"300px"}};return(i,d)=>(l(),o("div",null,[t.value?(l(),o("div",x,[t.value?(l(),p(r(S),{key:0,class:"h-[150px]",columns:t.value,rows:r(e).data,"row-key":"user"},null,8,["columns","rows"])):_("",!0),d[0]||(d[0]=y(" Student List "))])):_("",!0)]))}},N={key:0,class:"text-3xl"},O={__name:"Faculty",setup(m){const n=v(),a=u(!1);u(),u();const t=c({url:"attend.api.roles.get_user_role",auto:!0});k(()=>{t.data==="Student"?n.push("/Student"):a.value=!0});const e=c({url:"frappe.auth.get_logged_user",auto:!0});f(e,()=>{s.reset(),s.submit({faculty:e.data})});const s=c({url:"attend.api.fetchers.get_faculty_from_id"});return(i,d)=>(l(),o("div",null,[r(s).data?(l(),o("h1",N,"Welcome "+h(r(s).data[0].full_name)+" !",1)):_("",!0),g(w,{facultyid:r(e).data},null,8,["facultyid"])]))}};export{O as default};
