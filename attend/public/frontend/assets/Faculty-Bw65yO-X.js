import{r as u,c,x as f,o as l,a as o,y,h as r,p as _,i as m,w as h,t as k,e as g,u as v}from"./index-9Jd1avbo.js";import{_ as x}from"./Tooltip.vue_vue_type_script_setup_true_lang-CDkEbZi3.js";const S={key:0},w={__name:"StudentList",props:{facultyid:String},setup(p){const n=p,a=u(),t=u(),e=c({url:"attend.api.fetchers.get_faculty_student_list"});e.submit({faculty:n.facultyid}),f(e,()=>{e.data&&(a.value=Object.keys(JSON.parse(JSON.stringify(e.data))[0]),console.log("keysList:",a.value))}),f(a,()=>{t.value=JSON.parse(JSON.stringify(a.value)).map(i=>s[i]),console.log("cols",t.value)});const s={full_name:{label:"Full Name",key:"full_name",width:"300px"},user:{label:"Email",key:"user",width:"300px"}};return(i,d)=>(l(),o("div",null,[t.value?(l(),o("div",S,[t.value?(l(),y(r(x),{key:0,class:"h-[150px]",columns:t.value,rows:r(e).data,"row-key":"user"},null,8,["columns","rows"])):_("",!0),d[0]||(d[0]=m(" Student List "))])):_("",!0)]))}},N={key:0,class:"text-3xl"},O={__name:"Faculty",setup(p){const n=v(),a=u(!1);u(),u();const t=c({url:"attend.api.roles.get_user_role",auto:!0});h(()=>{t.data==="Student"?n.push("/Student"):a.value=!0});const e=c({url:"frappe.auth.get_logged_user",auto:!0});f(e,()=>{s.reset(),s.submit({faculty:e.data})});const s=c({url:"attend.api.fetchers.get_faculty_from_id"});return(i,d)=>(l(),o("div",null,[r(s).data?(l(),o("h1",N,"Welcome "+k(r(s).data[0].full_name)+" !",1)):_("",!0),g(w,{facultyid:r(e).data},null,8,["facultyid"])]))}};export{O as default};
